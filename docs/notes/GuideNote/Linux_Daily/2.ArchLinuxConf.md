---
title: ArchLinuxé…ç½®
createTime: 2025/04/07 16:33:51
permalink: /GuideNote/Linux_Daily/s81bl4wk/
---

ç³»ç»Ÿç‰ˆæœ¬ï¼š`EndeavourOS`

çª—å£ç®¡ç†å™¨ï¼š`bspwm`

## Bspwm çª—å£ç®¡ç†åŒº



åœ¨`EndeavourOS` éƒ¨åˆ†æ¡Œé¢å¯ä»¥ç›´æŽ¥å®‰è£…ï¼Œä½†æ˜¯ç¤¾åŒºçš„ä¸€äº›çª—å£ç®¡ç†å™¨éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œåœ¨å®˜ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°å…³äºŽç¤¾åŒºçª—å£ç®¡ç†åŒºçš„githubé¡¹ç›®è¿žæŽ¥ã€‚æˆ‘å®‰è£…çš„æ˜¯`Bspwm`ã€‚
### å®‰è£…

```bash
git clone https://github.com/EndeavourOS-Community-Editions/bspwm.git
cd bspwm
sudo ./bspwm-install.sh
```

### å¿«æ·é”®

`bspwm` çš„å¿«æ·é”®é…ç½®æ–‡ä»¶ä¸º`.config/sxhkd/sxhkdrc` å¦‚æžœéœ€è¦æ·»åŠ å¿«æ·é”®ï¼Œå¯ä»¥åœ¨æ­¤é…ç½®ã€‚ 

## ä¸­æ–‡è¾“å…¥æ³•ï¼ˆfxitx5ï¼‰

å®‰è£…ï¼š

```bash
sudo pacman -S fcitx5 fcitx5-chinese-addons fcitx5-configtool fcitx5-gtk fcitx5-pinyin-zhwiki fcitx5-qt
```

é…ç½®ï¼š

```bash file:/etc/environment
...
##fcitx5
GTK_IM_MODULE=fcitx5
QT_IM_MODULE=fcitx5
XMODIFIERS=@im=fcitx5
```

## æˆªå›¾å·¥å…·

```bash file:flameshot
sudo pacman -S flameshot
```

## Obsidian

```bash file:obsidian
sudo pacman -S obsidian
```
## virtualbox

```bash file:virtralbox
sudo pacman -S virtrabox
```
## v2raya

### å®‰è£…

```bash
yay -S v2raya
systemctl start v2raya
systemctl enable v2raya
```

### æ³¨å†Œ&é‡ç½®è´¦æˆ·
v2rayAçš„UIæ˜¯ä»¥ç½‘é¡µçš„å½¢å¼å‘ˆçŽ°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®v2rayAçš„åœ°å€[http://localhost:2017/](http://localhost:2017/)

![](assets/2.archlinuxconf/file-20250117181149.png)

é¦–æ¬¡æ‰“å¼€éœ€è¦åˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜è´¦å·ï¼Œå¦‚æžœé—å¿˜ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤é‡ç½®ã€‚

```bash file:é‡ç½®è´¦æˆ·
sudo v2raya --reset-password
```

### åˆ›å»ºèŠ‚ç‚¹

ä»¥åˆ›å»ºæˆ–å¯¼å…¥çš„æ–¹å¼å¯¼å…¥èŠ‚ç‚¹ï¼Œå¯¼å…¥æ”¯æŒèŠ‚ç‚¹é“¾æŽ¥ã€è®¢é˜…é“¾æŽ¥ã€æ‰«æäºŒç»´ç å’Œæ‰¹é‡å¯¼å…¥ç­‰æ–¹å¼ã€‚
![](assets/2.archlinuxconf/file-20250117181207.png)
### è®¾ç½®

ç‚¹å‡»å³ä¸Šè§’è®¾ç½®æŒ‰é’®ï¼ŒæŒ‰å®˜æ–¹æŽ¨èè¿›è¡Œè®¾ç½®ã€‚
![](assets/2.archlinuxconf/file-20250117181855.png)
### å¯ç”¨

é€‰ä¸­å¯¼å…¥çš„èŠ‚ç‚¹ï¼Œç„¶åŽé€‰åœ¨å·¦ä¸Šè§’é€‰æ‹©å°±ç»ªï¼Œå¼€å¯ä»£ç†ã€‚
![](assets/2.archlinuxconf/file-20250117182234.png)
## zshå®‰è£…é…ç½®

### zsh åŠæ’ä»¶å®‰è£…

```bash
sudo pacman -Sy zsh
sudo pacman -S zsh-autosuggestions zsh-syntax-highlighting 
yay -S zsh-theme-powerlevel10k  zsh-completions

chsh -s /usr/bin/zsh
```

åœ¨`~/.zshrc` ä¸­å¼•ç”¨å®‰è£…å¥½çš„æ’ä»¶ï¼š

```bash file: ~/.zshrc
source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.plugins.zsh
source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.plugins.zsh
source /usr/share/zsh-theme-powerlevel10k/powerlevel10k.zsh-theme
```

é‡æ–°å¯åŠ¨terminal,ä¼šå¼¹å‡ºè®¾ç½®æç¤ºï¼ŒæŒ‰æç¤ºè®¾ç½®å³å¯ã€‚

### å¯ç”¨tabè¡¥å…¨

```bash file:~/.zshrc
autoload -Uz compinit && compinit -u
autoload -U +X bashcompinit && bashcompinit
```

### Color Auto

é…ç½® `ls` å’Œ`grep`å‘½ä»¤æ‰“å°å†…å®¹æŒ‰æ–‡ä»¶ç±»åž‹æ˜¾ç¤ºä¸åŒé¢œè‰²ã€‚

```bash file:~/.zshrc
alias ls='ls --color=auto'
alias grep='grep --color=auto'
```

### zshä¸»é¢˜é…ç½®

å¯¹`ï½ž/.zshrc`é…ç½®å®ŒæˆåŽ,é€šè¿‡`source ï½ž/.zshrc` å‘½ä»¤å¼•ç”¨æ–‡ä»¶ï¼Œä¹‹åŽ`powerlevel10k.zsh-theme`ä¸»é¢˜ä¼šåœ¨ç”¨æˆ·ç›®å½•è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶`p10k.zsh`ï¼Œç”¨æˆ·å¯ä»¥æŒ‰è‡ªå·±å–œå¥½é…ç½®ä¸»é¢˜æ ·å¼ã€‚

#### èŽ·å–å¯ç”¨é¢œè‰²å€¼

```bash
for code ({000..255}) print -P -- "$code: %F{$code}æœ€å·¦ä¾§ä¸‰ä½æ•°å­—å³é¢œè‰²å€¼Text Color%f"

```

#### æŸ¥æ‰¾æˆ–ä¸‹è½½ Nerd Fontså­—ä½“ï¼ˆå›¾æ ‡ï¼‰

[https://www.nerdfonts.com/cheat-sheet](https://www.nerdfonts.com/cheat-sheet)

#### é…ç½®æ–‡ä»¶

ä¸‹é¢æ˜¯`ï½ž/.p10k.zsh` æ–‡ä»¶çš„éƒ¨åˆ†é…ç½®å†…å®¹

```bash file:.p10k.zsh
# å‘½ä»¤è¡Œåˆ†å‰²çº¿ï¼ˆä¸¤æ—çš„è½¬è§’çº¿ï¼‰#é’è‰²
  # Connect left prompt lines with these symbols.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX='%039Fâ•­â”€'
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_PREFIX='%039Fâ”œâ”€'
  typeset -g POWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX='%039Fâ•°â”€'
  # Connect right prompt lines with these symbols.
  typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_SUFFIX='%039Fâ”€â•®'
  typeset -g POWERLEVEL9K_MULTILINE_NEWLINE_PROMPT_SUFFIX='%039Fâ”€â”¤'
  typeset -g POWERLEVEL9K_MULTILINE_LAST_PROMPT_SUFFIX='%039Fâ”€â•¯'

...
    # The color of the filler.
    # å‘½ä»¤è¡Œåˆ†å‰²çº¿é¢œè‰²è®¾ç½®
    typeset -g POWERLEVEL9K_MULTILINE_FIRST_PROMPT_GAP_FOREGROUND=39

...
  # OS identifier color.
  
  typeset -g POWERLEVEL9K_OS_ICON_FOREGROUND=31 #ç´«135, å€¼ä¸ºç©ºé»˜è®¤ç™½è‰² ï¼Œæ©™è‰²208
  # Custom icon.
  #typeset -g POWERLEVEL9K_OS_ICON_CONTENT_EXPANSION=$'\uF346' # arch
  #typeset -g POWERLEVEL9K_OS_ICON_CONTENT_EXPANSION=$'\uF35D' # sway
  typeset -g POWERLEVEL9K_OS_ICON_CONTENT_EXPANSION=$'\uF17C' # linux
  #typeset -g POWERLEVEL9K_OS_ICON_CONTENT_EXPANSION=$'\uF355' # Bspwm

...
  
  # Default prompt symbol.
  typeset -g POWERLEVEL9K_PROMPT_CHAR_{OK,ERROR}_VIINS_CONTENT_EXPANSION='>>'
  # Prompt symbol in command vi mode.
  typeset -g POWERLEVEL9K_PROMPT_CHAR_{OK,ERROR}_VICMD_CONTENT_EXPANSION='<<'

...

  # Default current directory color.
  # é»˜è®¤ç›®å½•é¢œè‰²
  typeset -g POWERLEVEL9K_DIR_FOREGROUND=208 #31
  # If directory is too long, shorten some of its segments to the shortest possible unique
  # prefix. The shortened directory can be tab-completed to the original.
  typeset -g POWERLEVEL9K_SHORTEN_STRATEGY=truncate_to_unique
  # Replace removed segment suffixes with this symbol.
  typeset -g POWERLEVEL9K_SHORTEN_DELIMITER=
  # Color of the shortened directory segments.
  # ç¼©çŸ­çš„ç›®å½•æ®µé¢œè‰²
  typeset -g POWERLEVEL9K_DIR_SHORTENED_FOREGROUND=52
  # Color of the anchor directory segments. Anchor segments are never shortened. The first
  # segment is always an anchor.
  # é”šç‚¹ç›®å½•é¢œè‰²ï¼ˆå¦‚æ ¹ç›®å½•)
  typeset -g POWERLEVEL9K_DIR_ANCHOR_FOREGROUND=208 #39
  # Display anchor directory segments in boldi.
  typeset -g POWERLEVEL9K_DIR_ANCHOR_BOLD=true
...
  # Current time color.
  typeset -g POWERLEVEL9K_TIME_FOREGROUND=076
  # Format for the current time: 09:51:02. See `man 3 strftime`.
  #typeset -g POWERLEVEL9K_TIME_FORMAT='%D{%H:%M:%S}'
  # If set to true, time will update when you hit enter. This way prompts for the past
  # commands will contain the start times of their commands as opposed to the default
  # behavior where they contain the end times of their preceding commands.
  ## é»˜è®¤å€¼ä¸ºfalse,è¡¨ç¤ºæ¯ç§’æ›´æ–°ï¼Œå¼€é”€å¤§ï¼Œå¯ä»¥ä¿®æ”¹ï¼š
  #typeset -g POWERLEVEL9K_TIME_UPDATE_ON_COMMAND=false
  typeset -g POWERLEVEL9K_TIME_UPDATE_INTERVAL=60  # æ¯åˆ†é’Ÿæ›´æ–°
  typeset -g POWERLEVEL9K_TIME_FORMAT='%D{%H:%M}'  # æ—¶é—´æ ¼å¼
  # Custom icon.
  # å›¾æ ‡é¢œè‰²ä¸ºæ©™è‰²
  #typeset -g POWERLEVEL9K_TIME_VISUAL_IDENTIFIER_EXPANSION=$'\uE641' 
  typeset -g POWERLEVEL9K_TIME_VISUAL_IDENTIFIER_EXPANSION='ðŸ•’' 
  #typeset -g POWERLEVEL9K_TIME_VISUAL_IDENTIFIER_COLOR=208
  # ç”µé‡ä½ŽäºŽ20æ—¶ï¼Œæ—¶é—´ä¸ºçº¢è‰²
  typeset -g POWERLEVEL9K_TIME_LOW_BATTERY_FOREGROUND=196
  typeset -g POWERLEVEL9K_TIME_LOW_BATTERY_THRESHOLD=20
...

```

## nvm

nvm æ˜¯ä¸€ä¸ªnodejs çš„ç‰ˆæœ¬ç®¡ç†å™¨
### å®‰è£…nvm

```bash file:yay
yay -S nvm
echo 'source /usr/share/nvm/init-nvm.sh' ~/.zshrc
source ~/.zshrc
```

### ç®¡ç†nodejs

```bash
nvm ls-remote  # æŸ¥çœ‹å¯å®‰è£…çš„nodejsç‰ˆæœ¬
nvm install v22.13.0  # å®‰è£…åˆé€‚çš„ç‰ˆæœ¬
nvm use v22.12.0 # åº”ç”¨å®‰è£…å¥½çš„ç‰ˆæœ¬
node -v         # æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„nodeç‰ˆæœ¬
```

### å¯ç”¨pnpm

```bash file:pnpm
corepack enable pnpm
pnpm -v # æŸ¥çœ‹ç‰ˆæœ¬
```

å¦‚æžœéœ€è¦åœ¨é¡¹ç›®ä¸­å›ºå®špnpmç‰ˆæœ¬éœ€è¦è¿›ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨æœ¬åœ° `package.json` ä¸­æ·»åŠ ä¸€ä¸ª `"packageManager"` å­—æ®µï¼ŒæŒ‡ç¤º Corepack å§‹ç»ˆåœ¨è¯¥é¡¹ç›®ä¸Šä½¿ç”¨ç‰¹å®šç‰ˆæœ¬ã€‚
```bash
corepack use pnpm@latest
```


ç”±äºŽç½‘ç»œåŽŸå› ï¼Œåœ¨å›½å†…æ›´æ–°pnpmåŒ…æœ‰æ—¶ä¼šå‡ºçŽ°é”™è¯¯ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹pnpm æºä¸ºå›½å†…é•œåƒã€‚

```bash 
pnpm get registry
# æŸ¥çœ‹pnpmå½“å‰ä½¿ç”¨é•œåƒ
pnpm config set registry https://registry.npmmirror.com/
# ä¿®æ”¹ä¸ºå›½å†…é•œåƒ
pnpm config set registry https://registry.npmjs.org/
# è¿˜åŽŸä¸ºå®˜æ–¹é•œåƒ
```

##  ssh å¯†é’¥ç®¡ç†

å½“éœ€è¦ä¸ºå¤šä¸ªä¸»æœºé…ç½®ä¸åŒçš„å¯†é’¥æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨`~/.ssh`ç›®å½•ä¸‹é…ç½®`config`æ–‡ä»¶æ¥å®žçŽ°å¯†é’¥çš„ç®¡ç†ã€‚

```bash file:~/.ssh/config
#github
HOST github.com
  HOSTNAME github.com
  #PreferredAuthentications Publickey
  IdentityFile ~/.ssh/id_github
#server1
HOST 10.10.10.2
  HOSTNAME 10.10.10.2
  #PreferredAuthentications Publickey
  IdentityFile ~/.ssh/id_ed25519_server1

```