import{_ as i,c as e,a,o as t}from"./app-rzor12pK.js";const n="/assets/file-20241022094842-0EuWBAyc.png",h="/assets/file-20241022094829-gn65SMW8.png",l={};function r(d,s){return t(),e("div",null,s[0]||(s[0]=[a('<p>当运维人员不在现场时，提供对系统的远程访问是一种非常方便的方式，但这也意味着您可能成为攻击者的目标，常见攻击包括：</p><ol><li>密码探查</li><li>密码猜测和暴力破解</li><li>利用侦听服务</li></ol><h2 id="防止密码探查" tabindex="-1"><a class="header-anchor" href="#防止密码探查"><span>防止密码探查</span></a></h2><p>远程访问可以通过许多不同的协议和服务来实现。尽管所有现代系统都使用加密协议（如 SSH 协议）进行远程访问，但较旧的系统可能仍使用明文协议（如 Telnet 协议）。</p><p>在下图中，尽管用户选择了强密码，但该密码以明文形式发送，任何通过网络路径使用数据包捕获工具的人都可以读取该密码。</p><p><img src="'+n+'" alt=""></p><p>确保选择加密流量的协议至关重要。 SSH 协议已经存在了二十多年。它经受住了时间的考验。它有许多用途，从安全的远程访问到安全的文件传输。</p><h2 id="防止密码猜测" tabindex="-1"><a class="header-anchor" href="#防止密码猜测"><span>防止密码猜测</span></a></h2><p>当您使用 SSH 设置 Linux 系统以进行远程管理时，您还可以向 所有相关方提供 Linux 机器。许多恶意黑客在 Internet 上搜索侦听 SSH 服务器，并开始猜测登录凭据;通常，他们会尝试 <code>root</code> 使用最常见的密码。</p><p>下图显示系统使用 SSH 协议来确保加密通信;但是，身份验证依赖于登录凭据。许多用户都想使用弱密码或将同一密码用于其他服务。虽然 <code>qwerty1234</code> 不在密码词典中，但它通常出现在前 10 或 20 个最常见的密码中，因此很容易被猜到。</p><p><img src="'+h+`" alt=""></p><p>因为您的 SSH 服务器将被配置为一年 365 天、每天 24 小时侦听传入连接，所以攻击者可以在网络上一直尝试一个又一个的密码。您可以使用一些准则：</p><ol><li>禁用远程登录方式 <code>root</code>;强制以非 root 用户身份登录。</li><li>禁用密码验证;改为强制使用公钥验证。</li></ol><h3 id="禁用root远程" tabindex="-1"><a class="header-anchor" href="#禁用root远程"><span>禁用root远程</span></a></h3><p>上述准则背后的原因是，您不希望对手能够攻击 <code>root</code> 帐户。此外，即使它是一个非 root 帐户，如果密码存在弱点，您也不希望攻击者获得访问权限。 OpenSSH 服务器的配置可以通过 <code>sshd_config</code> 文件，通常位于 <code>/etc/ssh/sshd_config</code>。您可以通过添加以下行来禁用 root 登录：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PermitRootLogin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> no</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="强制使用公钥验证" tabindex="-1"><a class="header-anchor" href="#强制使用公钥验证"><span>强制使用公钥验证</span></a></h3><p>虽然强密码很难被猜到，但是大多数用户会觉得它不方便，而且不易记住。许多用户都想选择一个容易记的密码，或者多个账户之间使用相同的密码，无论那种方法，都容易被攻击者更容易猜到密码。 因此最好依靠SSH的公钥身份验证来帮助提高远程登录系统的安全性。</p><p><strong>创建SSH秘钥对</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-keygen</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rsa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>将公钥上传到服务器</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-copy-id</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> username@server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>SSH配置</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PubkeyAuthentication</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> yes</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 启用公钥身份验证</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PasswordAthentication</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> no</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 禁用密码身份验证</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="回答以下问题" tabindex="-1"><a class="header-anchor" href="#回答以下问题"><span>回答以下问题</span></a></h3><details class="hint-container details"><summary>什么标志隐藏在<code>sshd_config</code>文件？</summary><p><strong>答案：</strong><code>THM{secure_SEA_shell}</code></p></details><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/ssh/sshd_config</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">grep</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">THM</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># THM{secure_SEA_shell}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,27)]))}const p=i(l,[["render",r]]),o=JSON.parse('{"path":"/Security_Engineer/3dj5i7hz/","title":"远程连接","lang":"zh-CN","frontmatter":{"title":"远程连接","createTime":"2024/11/16 20:45:00","permalink":"/Security_Engineer/3dj5i7hz/"},"headers":[],"readingTime":{"minutes":2.85,"words":856},"git":{"updatedTime":1732288003000,"contributors":[{"name":"suxiuf","username":"suxiuf","email":"suxiufengcool@163.com","commits":1,"avatar":"https://avatars.githubusercontent.com/suxiuf?v=4","url":"https://github.com/suxiuf"},{"name":"suxiufeng","username":"suxiufeng","email":"suxiufengcool@163.com","commits":1,"avatar":"https://avatars.githubusercontent.com/suxiufeng?v=4","url":"https://github.com/suxiufeng"},{"name":"kali","username":"kali","email":"kali@kali","commits":1,"avatar":"https://avatars.githubusercontent.com/kali?v=4","url":"https://github.com/kali"}]},"filePathRelative":"notes/Security_Engineer/linux_system_hardening/3.Remote_Access.md"}');export{p as comp,o as data};
